<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Matrix Test</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script type=module src="components/list.js"></script>
        <script type=module src="components/listentry.js"></script>
        
        <link rel=stylesheet href="../../styles/aux.css"></style>
        
        <script type=module>
            
            import { ListEntry } from "./widgets/listentry.js";
            window.ListEntry = ListEntry;
            
        </script>
        
        <script>
            
            if (window.location.hash.indexOf("shapeweight") >= 0) {
                var style = document.createElement("style");
                document.head.appendChild(style);
                var c = 100;
                window.setInterval(function () {
                    style.innerHTML = ".aux-indent { font-weight: " + c + "; }";
                    c += 100;
                    if (c > 900) c = 100;
                },1000);
            }
            
        </script>
        
        <style>
            
            body {
                font-family: sans-serif;
            }
            
            
            :root {
                --aux-patchbay-listentry-size: var(--aux-clickable-size);
                --aux-patchbay-listentry-size: 32px;
            }
            
            
            .aux-list {
                display: block;
                height: 300px;
                background: #eee;
                border: 8px solid black;
            }
            
            .aux-listentry {
                height: var(--aux-patchbay-listentry-size);
                display: flex;
                align-items: center;
                margin: 0;
            }
            .aux-listentry > .aux-indent {
                flex: 0 0 0;
                width: calc(var(--aux-patchbay-listentry-size) * var(--aux-listentry-depth));
                height: var(--aux-patchbay-listentry-size);
                order: 0;
                margin: 0;
                font-family: Shapes;
                font-size: var(--aux-patchbay-listentry-size);
                line-height: var(--aux-patchbay-listentry-size);
            }
            .aux-listentry > .aux-collapse {
                flex: 0 0 var(--aux-patchbay-listentry-size);
                order: 1;
                width: var(--aux-patchbay-listentry-size);
                height: var(--aux-patchbay-listentry-size);
                padding: 0;
                margin: 0;
                border-radius: 0;
                border: none;
                display: none;
                
                background: plum;
                color: black;
            }
            .aux-listentry.aux-collapsable > .aux-collapse {
                display: flex;
            }
            .aux-listentry > .aux-icon {
                flex: 0 0 var(--aux-patchbay-listentry-size);
                height: var(--aux-patchbay-listentry-size);
                order: 2;
                margin: 0;
                font-size: 20px;
                background: palegreen;
            }
            .aux-listentry.aux-collapsable > .aux-icon {
                background: plum;
            }
            .aux-listentry > .aux-label {
                flex: 1 1 auto;
                order: 3;
                line-height: var(--aux-patchbay-listentry-size);
                margin: 0;
                padding: 0 4px;
                background: palegreen;
            }
            .aux-listentry.aux-collapsable > .aux-label {
                background: plum;
            }
            
        </style>
    </head>
    <body>
        <aux-root>
            
            <aux-list
                entries='js:[
                    {label: "Port #2", icon: "disconnected", depth: "js:[]"},
                    {label: "Group #1", icon: "disconnected", depth: "js:[]", collapsable: true},
                    {label: "Port #1.1", icon: "disconnected", depth: "js:[\"branch\"]"},
                    {label: "Port #1.2", icon: "disconnected", depth: "js:[\"branch\"]"},
                    {label: "Group #1.1", icon: "connected", depth: "js:[\"branch\"]", collapsable: true},
                    {label: "Port #1.1.1", icon: "connected", depth: "js:[\"trunk\",\"branch\"]"},
                    {label: "Port #1.1.2", icon: "connected", depth: "js:[\"trunk\",\"branch\"]"},
                    {label: "Group #1.1.1", icon: "disconnected", depth: "js:[\"trunk\",\"end\"]", collapsable: true},
                    {label: "Port #1.1.1.1", icon: "disconnected", depth: "js:[\"trunk\",\"none\",\"branch\"]"},
                    {label: "Port #1.1.1.2", icon: "disconnected", depth: "js:[\"trunk\",\"none\",\"end\"]"},
                    {label: "Group #1.2", icon: "connected", depth: "js:[\"end\"]", collapsable: true},
                    {label: "Port #1.2.1", icon: "disconnected", depth: "js:[\"none\",\"branch\"]"},
                    {label: "Port #1.2.2", icon: "connected", depth: "js:[\"none\",\"end\"]"}
                ]'
                entry_class="window.ListEntry"
            ></aux-list>
            <!--aux-listentry label="Port #1" icon="connected" depth="js:[]"></aux-listentry>
            <aux-listentry label="Port #2" icon="disconnected" depth="js:[]"></aux-listentry>
            <aux-listentry label="Group #1" icon="disconnected" depth="js:[]" collapsable=true></aux-listentry>
            <aux-listentry label="Port #1.1" icon="disconnected" depth="js:['branch']"></aux-listentry>
            <aux-listentry label="Port #1.2" icon="disconnected" depth="js:['branch']"></aux-listentry>
            <aux-listentry label="Group #1.1" icon="connected" depth="js:['branch']" collapsable=true></aux-listentry>
            <aux-listentry label="Port #1.1.1" icon="connected" depth="js:['trunk','branch']"></aux-listentry>
            <aux-listentry label="Port #1.1.2" icon="connected" depth="js:['trunk','branch']"></aux-listentry>
            <aux-listentry label="Group #1.1.1" icon="disconnected" depth="js:['trunk','end']" collapsable=true></aux-listentry>
            <aux-listentry label="Port #1.1.1.1" icon="disconnected" depth="js:['trunk','none','branch']"></aux-listentry>
            <aux-listentry label="Port #1.1.1.2" icon="disconnected" depth="js:['trunk','none','end']"></aux-listentry>
            <aux-listentry label="Group #1.2" icon="connected" depth="js:['end']" collapsable=true></aux-listentry>
            <aux-listentry label="Port #1.2.1" icon="disconnected" depth="js:['none','branch']"></aux-listentry>
            <aux-listentry label="Port #1.2.2" icon="connected" depth="js:['none','end']"></aux-listentry-->
            
        </aux-root>
    </body>
</body>
