<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>A.UX Matrix Test</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script type=module>
            
            import { MatrixData } from './models/matrix.js';
            
            const sort = (a, b) => {
                const la = a.id;
                const lb = b.id;
                if (la === lb) return 0;
                return la > lb ? 1 : -1;
            };
            window.matrix = new MatrixData();
            const ports = ["L","C","R","L'","R'","LF"];
            const outputs = matrix.addGroup({ label: 'Outputs', icon: 'speaker' });
            for (let i = 0; i < 8; i++) {
                const group = outputs.addGroup({ label: 'Output #' + (i+1), icon: 'mc5_1' });
                for (let j = 0; j < 6; j++) {
                    const port = group.addPort({ label: 'Channel ' + ports[j], icon: 'disconnected' });
                }
            }

            document.addEventListener('DOMContentLoaded', () => {
              const aux_matrix = document.querySelector('aux-matrix');

              aux_matrix.sources = matrix.createListDataView(0, null, sort);
              aux_matrix.sinks = matrix.createListDataView(0, null, sort);
            });
        </script>
        
        
        <script type=module src="../index.js"></script>
        
        <link rel=stylesheet href="../../styles/A.UX.css"></style>
        
        <style>
            
            body, html {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
                font-family: sans-serif;
            }
            
            .aux-root {
                width: 100%;
                height: 100%;
                margin: 0;
            }
            .aux-matrix {
                display: block;
                width: 100%;
                height: 480px;
            }
            .aux-matrix > .aux-scrollbar > .aux-scroller {
                background: url(../../logo.png);
            }
            
        </style>
    </head>
    <body>
        <aux-root>
            <aux-matrix></aux-matrix>
        </aux-root>
    </body>
</body>
